<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <title>Order Tracking</title> <meta name="viewport" content="width=device-width, initial-scale=1"> <style> body { font-family: Arial, sans-serif; margin: 0; } #map { height: 100vh; width: 100%; } .info { position: absolute; top: 10px; left: 10px; background: #fff; padding: 10px; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.2); } </style> <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY"></script> </head> <body> <div class="info"> <h3>Order Tracking</h3> <p id="orderId"></p> <p id="status">Waiting for driver location...</p> </div> <div id="map"></div> <script> const params = new URLSearchParams(window.location.search); const orderId = params.get("order_id"); document.getElementById("orderId").textContent = `Order ID: ${orderId}`; let map, marker; function initMap(lat = 6.5244, lng = 3.3792) { // default Lagos map = new google.maps.Map(document.getElementById("map"), { zoom: 14, center: { lat, lng }, }); marker = new google.maps.Marker({ position: { lat, lng }, map, title: "Driver", }); } async function fetchLocation() { const response = await fetch(`https://your-backend-api.com/location/${orderId}`); if (!response.ok) return; const data = await response.json(); if (data.lat && data.lng) { const newPos = { lat: data.lat, lng: data.lng }; marker.setPosition(newPos); map.panTo(newPos); document.getElementById("status").textContent = "Driver en route ðŸšš"; } } initMap(); setInterval(fetchLocation, 5000); // update every 5s </script> </body> </html>
